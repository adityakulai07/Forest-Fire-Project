---
title: "Forest Fires_AdityaKulai_GauriBansal_GauravCariappa_KonainMukadam"
author: "Aditya Kulai Gauri Bansal Gaurav Cariappa Konain Mukadam"
date: "December 08, 2017"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


#Objecive of our Analysis:

The goal is to learn more about the factors that lead to particularly damaging forest fires and then building a machine learning model to predict forest fires. The variable of interest is *area* in our analysis.

#Introduction:

While a handful of different metrics and sources of data have been used in the past to attempt prediction of fire, the goal of this project is to understand the underlying relationships between various predictors and area burnt (i.e. how does area burnt change based on a 1 unit increase in some other variable).

Early detection and appropriate response can provide substantial relief, but what factors and data can be used to determine how threatening a fire is? Hence,the attempt of this study is to investigate the relationship between meteorological data and the area of fire damage to build a predictive model. A predictive model would give authorities a powerful tool in the fight against fire damage. 


#Investigation:

While the paper mentioned above did examine the correlation between the four meteorological measurements and fire damage area, it did not investigate the relationship between the four index metrics and fire damage area. Perhaps this is because the index metrics were not strongly correlated. We would be comparing the correlation between the immediate meteorological data and acreage burned and the correlation between the index metrics and acreage burned to see which is stronger. Month will be added in as well. Ultimately, I will try to find the combination of attributes of both types that leads to the strongest correlation.

#Required Libraries

```{r, warning=FALSE, message=FALSE}
library(randomForest)
library(tree)
library(corrplot)
library(psych)
library(e1071)
library(caret)
library(ggplot2)
library(gbm)
```



#Reading the Data
```{r, echo=FALSE, warning=FALSE, message=FALSE, comment=""}

df.forest <- read.csv("~/Desktop/BA/forestfires.csv",header=TRUE, stringsAsFactors=FALSE)

df.forest <- df.forest[which(df.forest$area !=0),] 
```


#Cross Validation to predict the forest area
set.seed(1234)

df.forest$month = factor(df.forest$month, levels = c('jan','feb','mar','apr','may','jun','jul','aug','sep','oct','nov','dec'),labels = c(1,2,3,4,5,6,7,8,9,10,11,12))
df.forest$day = factor(df.forest$day, levels = c('mon','tue','wed','thu','fri','sat','sun'),labels = c(1,2,3,4,5,6,7))

df.forest$area <- log((df.forest$area)+1)
df.forest=df.forest[-500,]

n = nrow(df.forest)
test<-  sample(1:n,round(n)/10)
forest_train<- df.forest[-test,]
forest_test<- df.forest[test,]

The above code illustrates the Cross Validation method. We divided the data into two parts: Training and Testing. For our anlaysis, we took 90% of the data for training the model and the rest 10% for testing the model. The sample function has been used to randomly create a dataset out of the given data with the number of elements given. Then the two variables have been used forest_train and forest_test to store and test the data respectively.


